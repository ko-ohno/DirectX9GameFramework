/*=============================================================================
/*-----------------------------------------------------------------------------
/*	[MainProcess.cpp] メインの実行処理
/*	Author：Kousuke,Ohno.
/*-----------------------------------------------------------------------------
/*	説明：メインの実行処理
=============================================================================*/

/*--- インクルードファイル ---*/
#include "StdAfx.h"
#include "MainProcess.h"
#include "Manager.h"

/*-----------------------------------------------------------------------------
/* コンストラクタ
-----------------------------------------------------------------------------*/
MainProcess::MainProcess(void)
	:manager_(nullptr)
{

}

/*-----------------------------------------------------------------------------
/* デストラクタ
-----------------------------------------------------------------------------*/
MainProcess::~MainProcess(void)
{

}

/*-----------------------------------------------------------------------------
/* 起動処理
-----------------------------------------------------------------------------*/
bool MainProcess::StartUp(void)
{
	std::cout << "............起動\n";
	std::cout << "\n";

	//成功したかどうか
	bool is_init_success;

	is_init_success = MainProcess::Init();

	return is_init_success;
}

/*-----------------------------------------------------------------------------
/* 実行処理
-----------------------------------------------------------------------------*/
void MainProcess::Run(void)
{ 
	std::cout << "............実行\n";
	std::cout << "\n";

	float deltaTime = 1.f / 60.f;

	for(;;)
	{
		if (true)
		{
			deltaTime = 1.f / 60.f; //1FPS == 0.016.....f
		}

		MainProcess::Input();
		MainProcess::Update(deltaTime);
		MainProcess::GenerateOutput();
		if (true) { break; }
	}
}

/*-----------------------------------------------------------------------------
/* 停止処理
-----------------------------------------------------------------------------*/
void MainProcess::ShutDown(void)
{
	MainProcess::Uninit();

	std::cout << "............停止\n";
}

/*-----------------------------------------------------------------------------
/* 初期化処理
-----------------------------------------------------------------------------*/
bool MainProcess::Init(void)
{
	std::cout << "◇◆◇◆◇初期化処理の始まり◇◆◇◆◇\n";
	{
		manager_ = manager_->Create();
		if (false) { return false; }
	}
	std::cout << "◇◆◇◆◇初期化処理の終わり◇◆◇◆◇\n";
	std::cout << "\n";

	return true;
}

/*-----------------------------------------------------------------------------
/* 終了化処理
-----------------------------------------------------------------------------*/
void MainProcess::Uninit(void)
{
	std::cout << "▽▲▽▲▽終了化処理の始まり▽▲▽▲▽\n";
	{
		delete manager_;
	}
	std::cout << "▽▲▽▲▽終了化処理の終わり▽▲▽▲▽\n";
	std::cout << "\n";
}

/*-----------------------------------------------------------------------------
/* 入力処理
-----------------------------------------------------------------------------*/
void MainProcess::Input(void)
{
	std::cout << "□■□■□入力処理の始まり□■□■□\n";
	{
		manager_->InputAll();
	}
	std::cout << "□■□■□入力処理の終わり□■□■□\n";
	std::cout << "\n";
}

/*-----------------------------------------------------------------------------
/* 更新処理
-----------------------------------------------------------------------------*/
void MainProcess::Update(float deltaTime)
{
	std::cout << "○●○●○更新処理の始まり○●○●○\n";
	{
		manager_->UpdateAll(deltaTime);
	}
	std::cout << "○●○●○更新処理の終わり○●○●○\n";
	std::cout << "\n";
}

/*-----------------------------------------------------------------------------
/* 描画処理
-----------------------------------------------------------------------------*/
void MainProcess::GenerateOutput(void)
{
	std::cout << "☆★☆★☆出力生成処理の始まり☆★☆★☆\n";
	{
		manager_->GenerateOutputAll();
	}
	std::cout << "☆★☆★☆出力生成処理の終わり☆★☆★☆\n";
	std::cout << "\n";
}

/*=============================================================================
/*		End of File
=============================================================================*/